<div (click)="onCloseClick()">
    <fa-icon [icon]="close" class="close-icon"></fa-icon>

</div>

<div *ngIf="certificado" class="container pb-5 justify-content-center" >


    <h2 class="text-center my-4">Certificado emitido</h2>
    <div [ngClass]="loading ? 'opacity-25 div pt-4' : 'div pt-4'">

        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold text-justified">
                    Nombre:
            </div>
            <div class="col-8">
                <p>{{certificado.nombre | titlecase }}</p>
            </div>
        </div>
        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold">
                Rut:
            </div>
            <div class="col-8">
                <p>{{certificado.rut | titlecase }}</p>
            </div>
        </div>
        <div class="row px-3 pb-2">
            <div class="col-4 fw-bold">
                Resultado Evaluación:
            </div>
            <div class="col-8">
                <span
                    [ngClass]="certificado.resultadoEvaluacion === 'APROBADO' ? 'badge bg-success text-light' : 'badge bg-danger text-light'"
                   >
                    {{certificado.resultadoEvaluacion }}

                </span>
            </div>
        </div>
        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold">
                Empresa:
            </div>
            <div class="col-8">
                <p>{{certificado.empresa | titlecase }}</p>
            </div>
        </div>
        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold">
                Código de verificación:
            </div>
            <div class="col-8">
                <p>{{getCodigo()}}</p>
            </div>
        </div>
        <div class="row px-3 pb-1" *ngIf="certificado.formato === 'FC_CER' || certificado.formato === 'CR_CER' ">
            <div class="col-4 fw-bold">
                Fecha de certificación:
            </div>
            <div class="col-8">
                <p>{{certificado.fechaCertificacion | date: 'dd-MMM-y' }}</p>
            </div>
        </div>
        <div class="row px-3 pb-1" *ngIf="certificado.formato === 'CR_CAP' || certificado.formato === 'JC_CAP' || certificado.formato === 'CR_CER' ">
            <div class="col-4 fw-bold">
                Fecha de capacitación:
            </div>
            <div class="col-8">
                <p>{{certificado.fechaCapacitacion | date: 'dd-MMM-y' }}</p>
            </div>
        </div>
        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold">
                Fecha de expiración:
            </div>
            <div class="col-8">
                <p>{{certificado.fechaExpiracion | date: 'dd-MMM-y' }}</p>
            </div>
        </div>

        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold">
                Equipo / Cargo:
            </div>
            <div class="col-8">
                <p>{{certificado.equipoCargo | titlecase }}</p>
            </div>
        </div>
        <div class="row px-3 pb-1">
            <div class="col-4 fw-bold">
                Nota Final:
            </div>
            <div class="col-8">
                <p>{{certificado.notaFinal | number: '1.1-1' }}</p>
            </div>
        </div>
    </div>
    <button (click)="descargarCertificado(certificado!)"
            [disabled]="loading"
            class="btn btn-sm btn-success float-end me-5 mb-4">
            <fa-icon [icon]="pdfIcon" class=""></fa-icon> Descargar certificado 
    </button>
    <app-loading class="opacity-100" *ngIf="loading"></app-loading>
</div>

